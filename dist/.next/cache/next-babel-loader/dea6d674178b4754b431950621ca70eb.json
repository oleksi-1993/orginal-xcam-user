{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"E:\\\\programData\\\\React\\\\user\\\\src\\\\layouts\\\\auth-layout.tsx\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport './auth-layout.less';\nimport React from 'react';\nimport { Layout, BackTop } from 'antd';\nimport { enquireScreen, unenquireScreen } from 'enquire-js';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { updateUIValue, loadUIValue } from 'src/redux/ui/actions';\nimport Header from '@components/common/layout/header';\nimport Footer from '@components/common/layout/footer';\nexport function getStaticProps() {\n  return _getStaticProps.apply(this, arguments);\n}\n\nfunction _getStaticProps() {\n  _getStaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", {\n              props: {}\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getStaticProps.apply(this, arguments);\n}\n\nvar AuthLayout = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(AuthLayout, _React$PureComponent);\n\n  var _super = _createSuper(AuthLayout);\n\n  function AuthLayout() {\n    var _this;\n\n    _classCallCheck(this, AuthLayout);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isMobile: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"enquireHandler\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"onThemeChange\", function (theme) {\n      var dispatchUpdateUIValue = _this.props.updateUIValue;\n      dispatchUpdateUIValue({\n        theme: theme\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCollapseChange\", function (collapsed) {\n      var dispatchUpdateUIValue = _this.props.updateUIValue;\n      dispatchUpdateUIValue({\n        collapsed: collapsed\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(AuthLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          dispatchLoadUIValue = _this$props.loadUIValue,\n          loggedIn = _this$props.loggedIn;\n\n      if (loggedIn) {\n        Router.push('/');\n        return;\n      }\n\n      dispatchLoadUIValue();\n      this.enquireHandler = enquireScreen(function (mobile) {\n        var isMobile = _this2.state.isMobile;\n\n        if (isMobile !== mobile) {\n          _this2.setState({\n            isMobile: mobile\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      unenquireScreen(this.enquireHandler);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          collapsed = _this$props2.collapsed,\n          logo = _this$props2.logo,\n          theme = _this$props2.theme;\n      var headerProps = {\n        logo: logo,\n        collapsed: collapsed,\n        theme: theme,\n        onCollapseChange: this.onCollapseChange\n      };\n      return __jsx(Layout, {\n        className: \"container\",\n        id: \"authLayout\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, __jsx(Header, _extends({}, headerProps, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      })), __jsx(\"div\", {\n        className: \"content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }\n      }, children), __jsx(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }), __jsx(BackTop, {\n        className: \"backTop\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return AuthLayout;\n}(React.PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return _objectSpread(_objectSpread({}, state.ui), {}, {\n    loggedIn: state.auth.loggedIn,\n    auth: state.auth\n  });\n};\n\nvar mapDispatchToProps = {\n  updateUIValue: updateUIValue,\n  loadUIValue: loadUIValue\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthLayout);","map":{"version":3,"sources":["E:/programData/React/user/src/layouts/auth-layout.tsx"],"names":["React","Layout","BackTop","enquireScreen","unenquireScreen","connect","Router","updateUIValue","loadUIValue","Header","Footer","getStaticProps","props","AuthLayout","isMobile","theme","dispatchUpdateUIValue","collapsed","dispatchLoadUIValue","loggedIn","push","enquireHandler","mobile","state","setState","children","logo","headerProps","onCollapseChange","PureComponent","mapStateToProps","ui","auth","mapDispatchToProps"],"mappings":"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","sourcesContent":["import './auth-layout.less';\nimport React from 'react';\nimport { Layout, BackTop } from 'antd';\nimport { enquireScreen, unenquireScreen } from 'enquire-js';\nimport { connect } from 'react-redux';\nimport Router from 'next/router';\nimport { updateUIValue, loadUIValue } from 'src/redux/ui/actions';\nimport { IMenu, IUIConfig } from 'src/interfaces/ui-config';\nimport Header from '@components/common/layout/header';\nimport Footer from '@components/common/layout/footer';\n\ninterface DefaultProps extends IUIConfig {\n  children: any;\n  config: IUIConfig;\n  updateUIValue: Function;\n  loadUIValue: Function;\n  menus: IMenu[];\n  loggedIn: boolean;\n}\n\nexport async function getStaticProps() {\n  return {\n    props: {}\n  };\n}\n\nclass AuthLayout extends React.PureComponent<DefaultProps> {\n  state = {\n    isMobile: false\n  };\n\n  enquireHandler: any;\n\n  componentDidMount() {\n    const { loadUIValue: dispatchLoadUIValue, loggedIn } = this.props;\n    if (loggedIn) {\n      Router.push('/');\n      return;\n    }\n\n    dispatchLoadUIValue();\n    this.enquireHandler = enquireScreen((mobile) => {\n      const { isMobile } = this.state;\n      if (isMobile !== mobile) {\n        this.setState({\n          isMobile: mobile\n        });\n      }\n    });\n  }\n\n  componentWillUnmount() {\n    unenquireScreen(this.enquireHandler);\n  }\n\n  onThemeChange = (theme: string) => {\n    const { updateUIValue: dispatchUpdateUIValue } = this.props;\n    dispatchUpdateUIValue({ theme });\n  };\n\n  onCollapseChange = (collapsed) => {\n    const { updateUIValue: dispatchUpdateUIValue } = this.props;\n    dispatchUpdateUIValue({ collapsed });\n  };\n\n  render() {\n    const {\n      children,\n      collapsed,\n      logo,\n      // siteName,\n      theme\n    } = this.props;\n    const headerProps = {\n      logo,\n      collapsed,\n      theme,\n      onCollapseChange: this.onCollapseChange\n    };\n\n    return (\n      <Layout className=\"container\" id=\"authLayout\">\n        <Header {...headerProps} />\n        <div className=\"content\">\n          {/* <Bread routeList={newRouteList} /> */}\n          {children}\n        </div>\n        <Footer />\n        <BackTop className=\"backTop\" />\n      </Layout>\n    );\n  }\n}\n\nconst mapStateToProps = (state: any) => ({\n  ...state.ui,\n  loggedIn: state.auth.loggedIn,\n  auth: state.auth\n});\nconst mapDispatchToProps = { updateUIValue, loadUIValue };\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthLayout);\n"]},"metadata":{},"sourceType":"module"}