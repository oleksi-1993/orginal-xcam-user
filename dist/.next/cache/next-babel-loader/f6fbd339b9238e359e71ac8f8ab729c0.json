{"ast":null,"code":"import { APIRequest } from './api-request';\nimport { getGlobalConfig } from './config';\nexport class MessageService extends APIRequest {\n  getConversations(query) {\n    return this.get(this.buildUrl('/conversations', query));\n  }\n\n  searchConversations(query) {\n    return this.get(this.buildUrl('/conversations/search', query));\n  }\n\n  createConversation(data) {\n    return this.post('/conversations', data);\n  }\n\n  getConversationDetail(id) {\n    return this.get(`/conversations/${id}`);\n  }\n\n  getConversationByStreamId(streamId) {\n    return this.get(`/conversations/stream/${streamId}`);\n  }\n\n  getMessages(conversationId, query) {\n    return this.get(this.buildUrl(`/messages/conversations/${conversationId}`, query));\n  }\n\n  getPublicMessages(conversationId, query) {\n    return this.get(this.buildUrl(`/messages/conversations/public/${conversationId}`, query));\n  }\n\n  sendMessage(conversationId, data) {\n    return this.post(`/messages/conversations/${conversationId}`, data);\n  }\n\n  sendStreamMessage(conversationId, data) {\n    return this.post(`/messages/stream/conversations/${conversationId}`, data);\n  }\n\n  sendPublicStreamMessage(conversationId, data) {\n    return this.post(`/messages/stream/public/conversations/${conversationId}`, data);\n  }\n\n  findPublicConversationPerformer(performerId) {\n    return this.get(`/conversations/stream/public/${performerId}`);\n  }\n\n  countTotalNotRead() {\n    return this.get('/messages/counting-not-read-messages');\n  }\n\n  readAllInConversation(conversationId, recipientId) {\n    return this.post('/messages/read-all', {\n      conversationId,\n      recipientId\n    });\n  }\n\n  getMessageUploadUrl() {\n    const config = getGlobalConfig();\n    return `${config.NEXT_PUBLIC_API_ENDPOINT}/messages/private/file`;\n  }\n\n  deleteMessage(id) {\n    return this.del(`/messages/${id}`);\n  }\n\n  deleteAllMessageInConversation(conversationId) {\n    return this.del(`/messages/${conversationId}/remove-all-message`);\n  }\n\n}\nexport const messageService = new MessageService();","map":{"version":3,"sources":["E:/programData/React/user/src/services/message.service.ts"],"names":["APIRequest","getGlobalConfig","MessageService","getConversations","query","get","buildUrl","searchConversations","createConversation","data","post","getConversationDetail","id","getConversationByStreamId","streamId","getMessages","conversationId","getPublicMessages","sendMessage","sendStreamMessage","sendPublicStreamMessage","findPublicConversationPerformer","performerId","countTotalNotRead","readAllInConversation","recipientId","getMessageUploadUrl","config","NEXT_PUBLIC_API_ENDPOINT","deleteMessage","del","deleteAllMessageInConversation","messageService"],"mappings":"AAAA,SAASA,UAAT,QAA2B,eAA3B;AACA,SAASC,eAAT,QAAgC,UAAhC;AAEA,OAAO,MAAMC,cAAN,SAA6BF,UAA7B,CAAwC;AAC7CG,EAAAA,gBAAgB,CAACC,KAAD,EAA8B;AAC5C,WAAO,KAAKC,GAAL,CAAS,KAAKC,QAAL,CAAc,gBAAd,EAAgCF,KAAhC,CAAT,CAAP;AACD;;AAEDG,EAAAA,mBAAmB,CAACH,KAAD,EAA8B;AAC/C,WAAO,KAAKC,GAAL,CAAS,KAAKC,QAAL,CAAc,uBAAd,EAAuCF,KAAvC,CAAT,CAAP;AACD;;AAEDI,EAAAA,kBAAkB,CAACC,IAAD,EAA+B;AAC/C,WAAO,KAAKC,IAAL,CAAU,gBAAV,EAA4BD,IAA5B,CAAP;AACD;;AAEDE,EAAAA,qBAAqB,CAACC,EAAD,EAAa;AAChC,WAAO,KAAKP,GAAL,CAAU,kBAAiBO,EAAG,EAA9B,CAAP;AACD;;AAEDC,EAAAA,yBAAyB,CAACC,QAAD,EAAmB;AAC1C,WAAO,KAAKT,GAAL,CAAU,yBAAwBS,QAAS,EAA3C,CAAP;AACD;;AAEDC,EAAAA,WAAW,CAACC,cAAD,EAAyBZ,KAAzB,EAAsD;AAC/D,WAAO,KAAKC,GAAL,CAAS,KAAKC,QAAL,CAAe,2BAA0BU,cAAe,EAAxD,EAA2DZ,KAA3D,CAAT,CAAP;AACD;;AAEDa,EAAAA,iBAAiB,CAACD,cAAD,EAAyBZ,KAAzB,EAAsD;AACrE,WAAO,KAAKC,GAAL,CAAS,KAAKC,QAAL,CAAe,kCAAiCU,cAAe,EAA/D,EAAkEZ,KAAlE,CAAT,CAAP;AACD;;AAEDc,EAAAA,WAAW,CAACF,cAAD,EAAyBP,IAAzB,EAAoD;AAC7D,WAAO,KAAKC,IAAL,CAAW,2BAA0BM,cAAe,EAApD,EAAuDP,IAAvD,CAAP;AACD;;AAEDU,EAAAA,iBAAiB,CAACH,cAAD,EAAyBP,IAAzB,EAAoD;AACnE,WAAO,KAAKC,IAAL,CAAW,kCAAiCM,cAAe,EAA3D,EAA8DP,IAA9D,CAAP;AACD;;AAEDW,EAAAA,uBAAuB,CAACJ,cAAD,EAAyBP,IAAzB,EAAoD;AACzE,WAAO,KAAKC,IAAL,CAAW,yCAAwCM,cAAe,EAAlE,EAAqEP,IAArE,CAAP;AACD;;AAEDY,EAAAA,+BAA+B,CAACC,WAAD,EAAsB;AACnD,WAAO,KAAKjB,GAAL,CAAU,gCAA+BiB,WAAY,EAArD,CAAP;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,WAAO,KAAKlB,GAAL,CAAS,sCAAT,CAAP;AACD;;AAEDmB,EAAAA,qBAAqB,CAACR,cAAD,EAAkCS,WAAlC,EAAuD;AAC1E,WAAO,KAAKf,IAAL,CAAU,oBAAV,EAAgC;AAAEM,MAAAA,cAAF;AAAkBS,MAAAA;AAAlB,KAAhC,CAAP;AACD;;AAEDC,EAAAA,mBAAmB,GAAG;AACpB,UAAMC,MAAM,GAAG1B,eAAe,EAA9B;AACA,WAAQ,GAAE0B,MAAM,CAACC,wBAAyB,wBAA1C;AACD;;AAEDC,EAAAA,aAAa,CAACjB,EAAD,EAAK;AAChB,WAAO,KAAKkB,GAAL,CAAU,aAAYlB,EAAG,EAAzB,CAAP;AACD;;AAEDmB,EAAAA,8BAA8B,CAACf,cAAD,EAAiB;AAC7C,WAAO,KAAKc,GAAL,CAAU,aAAYd,cAAe,qBAArC,CAAP;AACD;;AAhE4C;AAmE/C,OAAO,MAAMgB,cAAc,GAAG,IAAI9B,cAAJ,EAAvB","sourcesContent":["import { APIRequest } from './api-request';\nimport { getGlobalConfig } from './config';\n\nexport class MessageService extends APIRequest {\n  getConversations(query?: Record<string, any>) {\n    return this.get(this.buildUrl('/conversations', query));\n  }\n\n  searchConversations(query?: Record<string, any>) {\n    return this.get(this.buildUrl('/conversations/search', query));\n  }\n\n  createConversation(data: Record<string, string>) {\n    return this.post('/conversations', data);\n  }\n\n  getConversationDetail(id: string) {\n    return this.get(`/conversations/${id}`);\n  }\n\n  getConversationByStreamId(streamId: string) {\n    return this.get(`/conversations/stream/${streamId}`);\n  }\n\n  getMessages(conversationId: string, query?: Record<string, any>) {\n    return this.get(this.buildUrl(`/messages/conversations/${conversationId}`, query));\n  }\n\n  getPublicMessages(conversationId: string, query?: Record<string, any>) {\n    return this.get(this.buildUrl(`/messages/conversations/public/${conversationId}`, query));\n  }\n\n  sendMessage(conversationId: string, data: Record<string, any>) {\n    return this.post(`/messages/conversations/${conversationId}`, data);\n  }\n\n  sendStreamMessage(conversationId: string, data: Record<string, any>) {\n    return this.post(`/messages/stream/conversations/${conversationId}`, data);\n  }\n\n  sendPublicStreamMessage(conversationId: string, data: Record<string, any>) {\n    return this.post(`/messages/stream/public/conversations/${conversationId}`, data);\n  }\n\n  findPublicConversationPerformer(performerId: string) {\n    return this.get(`/conversations/stream/public/${performerId}`);\n  }\n\n  countTotalNotRead() {\n    return this.get('/messages/counting-not-read-messages');\n  }\n\n  readAllInConversation(conversationId: string | number, recipientId: string) {\n    return this.post('/messages/read-all', { conversationId, recipientId });\n  }\n\n  getMessageUploadUrl() {\n    const config = getGlobalConfig();\n    return `${config.NEXT_PUBLIC_API_ENDPOINT}/messages/private/file`;\n  }\n\n  deleteMessage(id) {\n    return this.del(`/messages/${id}`);\n  }\n\n  deleteAllMessageInConversation(conversationId) {\n    return this.del(`/messages/${conversationId}/remove-all-message`);\n  }\n}\n\nexport const messageService = new MessageService();\n"]},"metadata":{},"sourceType":"module"}