{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"E:\\\\programData\\\\React\\\\user\\\\src\\\\layouts\\\\base-layout.tsx\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Router from 'next/router';\nimport Loader from '@components/common/base/loader';\nimport PrimaryLayout from './primary-layout';\nimport PublicLayout from './public-layout';\nimport DefaultLayout from './default-layout';\nimport AuthLayout from './auth-layout';\nimport MaintenanceLayout from './maintenance-layout';\nvar LayoutMap = {\n  maintenance: MaintenanceLayout,\n  primary: PrimaryLayout,\n  \"public\": PublicLayout,\n  auth: AuthLayout,\n  \"default\": DefaultLayout\n};\n\nvar BaseLayout = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(BaseLayout, _React$PureComponent);\n\n  var _super = _createSuper(BaseLayout);\n\n  function BaseLayout(props) {\n    var _this;\n\n    _classCallCheck(this, BaseLayout);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"onRouteChangeStart\", function () {\n      _this.setState({\n        routerChange: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRouteChangeComplete\", function () {\n      _this.setState({\n        routerChange: false\n      });\n    });\n\n    _this.state = {\n      routerChange: false\n    };\n    return _this;\n  }\n\n  _createClass(BaseLayout, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.handleStateChange();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Router.events.off('routeChangeStart', this.onRouteChangeStart);\n      Router.events.off('routeChangeComplete', this.onRouteChangeComplete);\n    }\n  }, {\n    key: \"handleStateChange\",\n    value: function handleStateChange() {\n      Router.events.on('routeChangeStart', this.onRouteChangeStart);\n      Router.events.on('routeChangeComplete', this.onRouteChangeComplete);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          children = _this$props.children,\n          layout = _this$props.layout,\n          _this$props$maintenan = _this$props.maintenanceMode,\n          maintenanceMode = _this$props$maintenan === void 0 ? false : _this$props$maintenan;\n      var routerChange = this.state.routerChange;\n\n      if (maintenanceMode) {\n        return __jsx(MaintenanceLayout, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 14\n          }\n        });\n      }\n\n      var Container = layout && LayoutMap[layout] ? LayoutMap[layout] : LayoutMap[\"public\"];\n      return __jsx(React.Fragment, null, __jsx(Container, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, routerChange && __jsx(Loader, {\n        spinning: true,\n        fullScreen: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 28\n        }\n      }), children));\n    }\n  }]);\n\n  return BaseLayout;\n}(React.PureComponent);\n\nexport { BaseLayout as default };","map":{"version":3,"sources":["E:/programData/React/user/src/layouts/base-layout.tsx"],"names":["React","Router","Loader","PrimaryLayout","PublicLayout","DefaultLayout","AuthLayout","MaintenanceLayout","LayoutMap","maintenance","primary","auth","BaseLayout","props","setState","routerChange","state","handleStateChange","events","off","onRouteChangeStart","onRouteChangeComplete","on","children","layout","maintenanceMode","Container","PureComponent"],"mappings":";;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AAEA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,aAAP,MAA0B,kBAA1B;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AAaA,IAAMC,SAAS,GAAG;AAChBC,EAAAA,WAAW,EAAEF,iBADG;AAEhBG,EAAAA,OAAO,EAAEP,aAFO;AAGhB,YAAQC,YAHQ;AAIhBO,EAAAA,IAAI,EAAEL,UAJU;AAKhB,aAASD;AALO,CAAlB;;IAQqBO,U;;;;;AACnB,sBAAYC,KAAZ,EAAiC;AAAA;;AAAA;;AAC/B,8BAAMA,KAAN;;AAD+B,yEAqBZ,YAAM;AACzB,YAAKC,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACD,KAvBgC;;AAAA,4EAyBT,YAAM;AAC5B,YAAKD,QAAL,CAAc;AAAEC,QAAAA,YAAY,EAAE;AAAhB,OAAd;AACD,KA3BgC;;AAE/B,UAAKC,KAAL,GAAa;AACXD,MAAAA,YAAY,EAAE;AADH,KAAb;AAF+B;AAKhC;;;;WAED,6BAAoB;AAClB,WAAKE,iBAAL;AACD;;;WAED,gCAAuB;AACrBhB,MAAAA,MAAM,CAACiB,MAAP,CAAcC,GAAd,CAAkB,kBAAlB,EAAsC,KAAKC,kBAA3C;AACAnB,MAAAA,MAAM,CAACiB,MAAP,CAAcC,GAAd,CAAkB,qBAAlB,EAAyC,KAAKE,qBAA9C;AACD;;;WAED,6BAAoB;AAClBpB,MAAAA,MAAM,CAACiB,MAAP,CAAcI,EAAd,CAAiB,kBAAjB,EAAqC,KAAKF,kBAA1C;AACAnB,MAAAA,MAAM,CAACiB,MAAP,CAAcI,EAAd,CAAiB,qBAAjB,EAAwC,KAAKD,qBAA7C;AACD;;;WAUD,kBAAS;AACP,wBAAsD,KAAKR,KAA3D;AAAA,UAAQU,QAAR,eAAQA,QAAR;AAAA,UAAkBC,MAAlB,eAAkBA,MAAlB;AAAA,8CAA0BC,eAA1B;AAAA,UAA0BA,eAA1B,sCAA4C,KAA5C;AACA,UAAQV,YAAR,GAAyB,KAAKC,KAA9B,CAAQD,YAAR;;AACA,UAAIU,eAAJ,EAAqB;AACnB,eAAO,MAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACD;;AAED,UAAMC,SAAS,GAAGF,MAAM,IAAIhB,SAAS,CAACgB,MAAD,CAAnB,GAA8BhB,SAAS,CAACgB,MAAD,CAAvC,GAAkDhB,SAAS,UAA7E;AACA,aACE,4BACE,MAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGO,YAAY,IAAI,MAAC,MAAD;AAAQ,QAAA,QAAQ,MAAhB;AAAiB,QAAA,UAAU,MAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADnB,EAEGQ,QAFH,CADF,CADF;AAQD;;;;EA9CqCvB,KAAK,CAAC2B,a;;SAAzBf,U","sourcesContent":["import React from 'react';\r\nimport Router from 'next/router';\r\nimport { IUIConfig } from 'src/interfaces';\r\nimport Loader from '@components/common/base/loader';\r\nimport PrimaryLayout from './primary-layout';\r\nimport PublicLayout from './public-layout';\r\nimport DefaultLayout from './default-layout';\r\nimport AuthLayout from './auth-layout';\r\nimport MaintenanceLayout from './maintenance-layout';\r\n\r\ninterface DefaultProps {\r\n  children: any;\r\n  appConfig?: IUIConfig;\r\n  layout?: string;\r\n  maintenanceMode?: boolean;\r\n}\r\n\r\ninterface DefaultStates {\r\n  routerChange: boolean;\r\n}\r\n\r\nconst LayoutMap = {\r\n  maintenance: MaintenanceLayout,\r\n  primary: PrimaryLayout,\r\n  public: PublicLayout,\r\n  auth: AuthLayout,\r\n  default: DefaultLayout\r\n};\r\n\r\nexport default class BaseLayout extends React.PureComponent<DefaultProps, DefaultStates> {\r\n  constructor(props: DefaultProps) {\r\n    super(props);\r\n    this.state = {\r\n      routerChange: false\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.handleStateChange();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    Router.events.off('routeChangeStart', this.onRouteChangeStart);\r\n    Router.events.off('routeChangeComplete', this.onRouteChangeComplete);\r\n  }\r\n\r\n  handleStateChange() {\r\n    Router.events.on('routeChangeStart', this.onRouteChangeStart);\r\n    Router.events.on('routeChangeComplete', this.onRouteChangeComplete);\r\n  }\r\n\r\n  onRouteChangeStart = () => {\r\n    this.setState({ routerChange: true });\r\n  }\r\n\r\n  onRouteChangeComplete = () => {\r\n    this.setState({ routerChange: false });\r\n  }\r\n\r\n  render() {\r\n    const { children, layout, maintenanceMode = false } = this.props;\r\n    const { routerChange } = this.state;\r\n    if (maintenanceMode) {\r\n      return <MaintenanceLayout />;\r\n    }\r\n\r\n    const Container = layout && LayoutMap[layout] ? LayoutMap[layout] : LayoutMap.public;\r\n    return (\r\n      <>\r\n        <Container>\r\n          {routerChange && <Loader spinning fullScreen />}\r\n          {children}\r\n        </Container>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}