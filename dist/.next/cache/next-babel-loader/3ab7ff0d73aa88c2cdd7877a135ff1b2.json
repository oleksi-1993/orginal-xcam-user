{"ast":null,"code":"import React from 'react';\nimport { SocketContext } from './SocketContext';\nimport { warning } from './utils';\n\nclass Event extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const {\n      event,\n      handler\n    } = this.props;\n    const socket = this.context;\n\n    if (!socket) {\n      warning('Socket IO connection has not been established.');\n      return;\n    }\n\n    socket.on(event, handler);\n  }\n\n  componentWillUnmount() {\n    const {\n      event\n    } = this.props;\n    const socket = this.context;\n\n    if (!socket) {\n      warning('Socket IO connection has not been established.');\n      return;\n    }\n\n    socket.off(event);\n  }\n\n  render() {\n    return false;\n  }\n\n}\n\nEvent.contextType = SocketContext;\nexport default Event;","map":{"version":3,"sources":["E:/programData/React/user/src/socket/Event.tsx"],"names":["React","SocketContext","warning","Event","Component","constructor","props","componentDidMount","event","handler","socket","context","on","componentWillUnmount","off","render","contextType"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,OAAT,QAAwB,SAAxB;;AAOA,MAAMC,KAAN,SAAoBH,KAAK,CAACI,SAA1B,CAAiD;AAC/CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,UAAM;AAAEC,MAAAA,KAAF;AAASC,MAAAA;AAAT,QAAqB,KAAKH,KAAhC;AACA,UAAMI,MAAM,GAAG,KAAKC,OAApB;;AAEA,QAAI,CAACD,MAAL,EAAa;AACXR,MAAAA,OAAO,CAAC,gDAAD,CAAP;AACA;AACD;;AAEDQ,IAAAA,MAAM,CAACE,EAAP,CAAUJ,KAAV,EAAiBC,OAAjB;AACD;;AAEDI,EAAAA,oBAAoB,GAAG;AACrB,UAAM;AAAEL,MAAAA;AAAF,QAAY,KAAKF,KAAvB;AACA,UAAMI,MAAM,GAAG,KAAKC,OAApB;;AAEA,QAAI,CAACD,MAAL,EAAa;AACXR,MAAAA,OAAO,CAAC,gDAAD,CAAP;AACA;AACD;;AAEDQ,IAAAA,MAAM,CAACI,GAAP,CAAWN,KAAX;AACD;;AAEDO,EAAAA,MAAM,GAAG;AACP,WAAO,KAAP;AACD;;AA/B8C;;AAkCjDZ,KAAK,CAACa,WAAN,GAAoBf,aAApB;AAEA,eAAeE,KAAf","sourcesContent":["import React from 'react';\nimport { SocketContext } from './SocketContext';\nimport { warning } from './utils';\n\ninterface IEventProps {\n  event: string;\n  handler: Function;\n}\n\nclass Event extends React.Component<IEventProps> {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    const { event, handler } = this.props;\n    const socket = this.context;\n\n    if (!socket) {\n      warning('Socket IO connection has not been established.');\n      return;\n    }\n\n    socket.on(event, handler);\n  }\n\n  componentWillUnmount() {\n    const { event } = this.props;\n    const socket = this.context;\n\n    if (!socket) {\n      warning('Socket IO connection has not been established.');\n      return;\n    }\n\n    socket.off(event);\n  }\n\n  render() {\n    return false;\n  }\n}\n\nEvent.contextType = SocketContext;\n\nexport default Event;\n"]},"metadata":{},"sourceType":"module"}